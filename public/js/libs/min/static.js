Array.indexOf||(Array.prototype.indexOf=function(b,f){for(var e=f||0,a=this.length;e<a;++e)if(this[e]===b)return e;return-1});String.ucfirst||(String.prototype.ucfirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)});
(function(b){var f=b("ul.nav"),e=window.RM={};b('a[href="#"]').attr("href",window.location.href);f&&f.length>0&&f.superfish();b.datepicker.setDefaults({dateFormat:"yy-mm-dd"});b(document).ajaxStart(function(){b("#content").showMessage.closeMessage()});b("button, input:submit").button();b("table.report tbody tr").hover(function(){b(this).addClass("highlight")},function(){b(this).removeClass("highlight")});b.extend(true,b.fn.dataTable.defaults,{iDisplayLength:25,oLanguage:{sZeroRecords:"No data matches the given filters"}});
b.validator.setDefaults({errorClass:"invalid",errorPlacement:function(a,b){a.appendTo(b.parent())},onkeyup:false,success:"valid"});b.validator.addMethod("password",function(a,b){var c=this.optional(b)||a.length>=6&&/\d/.test(a)&&/[a-z]/i.test(a),e=null;if(!c){b.value="";e=this;setTimeout(function(){e.blockFocusCleanup=true;b.focus();e.blockFocusCleanup=false},1)}return c},"Your password must be at least 6 characters long and contain at least one number and one character.");b.validator.addMethod("phoneUS",
function(a,b){a=a.replace(/\s+/g,"");return this.optional(b)||a.length>9&&a.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");e.zeroPad=function(a){return(a<10?"0":"")+a};e.confirmDialog=function(a,d,c,e){b('<div class="alignContentCenter"></div>').html(d).dialog({autoOpen:true,draggable:false,resizable:false,minHeight:0,width:"auto",modal:true,title:a||"Confirm",buttons:{Yes:function(){b.isFunction(c)&&c.apply();b(this).dialog("close")},No:function(){b.isFunction(e)&&
e.apply();b(this).dialog("close")}},close:function(){}})};e.getMonetaryCssClass=function(a){var b="monetary ",a=parseFloat((""+a).replace(/[^0-9eE.-]/g,""));return a>0?b+"positive":a<0?b+"negative":b+"neutral"};e.getPrettyCampaignName=function(a,b,c){return sprintf("%s%s%s",a,' <span class="entity-id">('+b+")</span>",c==="paused"?' <span class="status paused">(PAUSED)</span>':"")};e.onAjaxError=function(a){var d=b(this),c=b.parseJSON(a.responseText),e=[];typeof d[0].xhr==="function"&&(d=b("#content"));
if(c.redirect){d.showMessage({thisMessage:['We are sorry, but your sesison has expired. You will now be redirected to the <a href="'+c.redirect+'" title="Login">login</a> page.'],className:"error"});window.setTimeout(function(){window.location.replace(c.redirect)},5E3)}c.message?e.push(c.message):typeof c.messages==="object"?b.each(c.messages.error,function(a,c){typeof c==="object"?b.each(c,function(a,c){var d=a+"<ul>";b.each(c,function(a,b){d=d+("<li>"+b+"</li>")});d=d+"</ul>";e.push(d)}):typeof c===
"string"&&e.push(c)}):e.push("Unknown error");Notifier.error(e.join(""))};e.onDateChange=function(){for(var a=b.datepicker.formatDate("@",new Date(b("#dateRange-start").val()+"T00:00:00"))/1E3,d=b.datepicker.formatDate("@",new Date(b("#dateRange-stop").val()+"T23:59:59"))/1E3,c=1;c<8;++c)if(a===parseInt(e.timestamps[c][0],10)&&d===parseInt(e.timestamps[c][1],10)){b("#dateRange-range").selectmenu("index",c-1);return true}b("#dateRange-range").selectmenu("index",7);return true};e.onDateSelect=function(){var a=
new Date,d=new Date,c=parseInt(b(this).val(),10);if(c===2){a.setDate(a.getDate()-1);d.setMonth(a.getMonth());d.setDate(a.getDate())}else if(c===3)a.setDate(a.getDate()-6);else if(c===4)a.setDate(1);else if(c===5){a.setDate(1);a.setMonth(a.getMonth()-1);d.setFullYear(a.getFullYear());d.setMonth(a.getMonth());if(d.getMonth()!==a.getMonth()){a.getMonth()===1?a.getFullYear()%4===0?d.setDate(29):d.setDate(28):d.setDate(30);d.setMonth(a.getMonth())}}else if(c===6){a.setDate(1);a.setMonth(a.getMonth()-1);
d.setFullYear(a.getFullYear());d.setMonth(a.getMonth());d.setDate(31);if(d.getMonth()!==a.getMonth()){a.getMonth()===1?a.getFullYear()%4===0?d.setDate(29):d.setDate(28):d.setDate(30);d.setMonth(a.getMonth())}}else if(c===7){a.setDate(1);a.setMonth(0)}b("#dateRange-start").val(b.datepicker.formatDate(b.datepicker.ISO_8601,a));b("#dateRange-stop").val(b.datepicker.formatDate(b.datepicker.ISO_8601,d))};b.ajaxSetup({async:true,dataType:"json",error:e.onAjaxError,type:"POST"})})(jQuery);
