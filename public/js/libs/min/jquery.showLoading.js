jQuery.fn.showLoading=function(b){var a={addClass:"",beforeShow:"",afterShow:"",hPos:"center",vPos:"center",indicatorZIndex:5001,overlayZIndex:5E3,parent:"",marginTop:0,marginLeft:0,overlayWidth:null,overlayHeight:null,overlayBorder:!1};jQuery.extend(a,b);var c=jQuery("<div></div>"),d=jQuery("<div></div>"),e,h,i,g,f=jQuery(this),b=a.indicatorID?a.indicatorID:f.attr("id");c.attr("id","loading-indicator-"+b);c.addClass("loading-indicator");a.addClass&&c.addClass(a.addClass);d.css("display","none");
jQuery(document.body).append(d);d.attr("id","loading-indicator-"+b+"-overlay");d.addClass("loading-indicator-overlay");a.addClass&&d.addClass(a.addClass+"-overlay");e=f.css("border-top-width");b=f.css("border-left-width");e=isNaN(parseInt(e,10))?0:e;b=isNaN(parseInt(b,10))?0:b;b=f.offset().left+parseInt(b,10);i=f.offset().top+parseInt(e,10);e=null!==a.overlayWidth?a.overlayWidth:parseInt(f.width(),10)+parseInt(f.css("padding-right"),10)+parseInt(f.css("padding-left"),10);h=null!==a.overlayHeight?
a.overlayHeight:parseInt(f.height(),10)+parseInt(f.css("padding-top"),10)+parseInt(f.css("padding-bottom"),10);g=f.css("transform")||f.css("-ms-transform")||f.css("-o-transform")||f.css("-moz-transform")||f.css("-webkit-transform");null!==g&&(g=g.match(/matrix\(([0-9.]+), [0-9.]+, [0-9.]+, ([0-9.]+), /),null!==g&&(0<g[1]&&g[1]===g[2])&&(e*=parseFloat(g[1],10),h*=parseFloat(g[2],10)));d.css("width",e.toString()+"px");d.css("height",h.toString()+"px");h=e=0;!0===a.overlayBorder&&(e=parseInt(f.css("border-left-width"),
10),h=parseInt(f.css("border-top-width"),10));d.css("left",(b-e).toString()+"px");d.css("top",(i-h).toString()+"px");d.css("position","absolute");d.css("z-index",a.overlayZIndex);a.overlayCSS&&d.css(a.overlayCSS);c.css("display","none");jQuery(document.body).append(c);c.css("position","absolute");c.css("z-index",a.indicatorZIndex);e=i;a.marginTop&&(e+=parseInt(a.marginTop,10));a.marginLeft&&(b+=parseInt(a.marginTop,10));"center"==a.hPos.toString().toLowerCase()?c.css("left",(b+(d.width()-parseInt(c.width(),
10))/2).toString()+"px"):"left"==a.hPos.toString().toLowerCase()?c.css("left",(b+parseInt(d.css("margin-left"),10)).toString()+"px"):"right"==a.hPos.toString().toLowerCase()?c.css("left",(b+(d.width()-parseInt(c.width(),10))).toString()+"px"):c.css("left",(b+parseInt(a.hPos,10)).toString()+"px");"center"==a.vPos.toString().toLowerCase()?c.css("top",(e+(d.height()-parseInt(c.height(),10))/2).toString()+"px"):"top"==a.vPos.toString().toLowerCase()?c.css("top",e.toString()+"px"):"bottom"==a.vPos.toString().toLowerCase()?
c.css("top",(e+(d.height()-parseInt(c.height(),10))).toString()+"px"):c.css("top",(e+parseInt(a.vPos,10)).toString()+"px");a.css&&c.css(a.css);b={overlay:d,indicator:c,element:this};"function"==typeof a.beforeShow&&a.beforeShow(b);d.show();c.show();"function"==typeof a.afterShow&&a.afterShow(b);return this};
jQuery.fn.hideLoading=function(b){var a={};jQuery.extend(a,b);indicatorID=a.indicatorID?a.indicatorID:jQuery(this).attr("id");jQuery(document.body).find("#loading-indicator-"+indicatorID).remove();jQuery(document.body).find("#loading-indicator-"+indicatorID+"-overlay").remove();return this};
