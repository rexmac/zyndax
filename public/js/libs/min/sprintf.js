var sprintf=function(){function e(b){return Object.prototype.toString.call(b).slice(8,-1).toLowerCase()}var b=function(){b.cache.hasOwnProperty(arguments[0])||(b.cache[arguments[0]]=b.parse(arguments[0]));return b.format.call(null,b.cache[arguments[0]],arguments)};b.format=function(b,f){var c=1,m=b.length,a="",i=[],g,h,d,k;for(g=0;g<m;g++)if(a=e(b[g]),"string"===a)i.push(b[g]);else if("array"===a){d=b[g];if(d[2]){a=f[c];for(h=0;h<d[2].length;h++){if(!a.hasOwnProperty(d[2][h]))throw sprintf('[sprintf] property "%s" does not exist',
d[2][h]);a=a[d[2][h]]}}else a=d[1]?f[d[1]]:f[c++];if(/[^s]/.test(d[8])&&"number"!=e(a))throw sprintf("[sprintf] expecting number but found %s",e(a));switch(d[8]){case "b":a=a.toString(2);break;case "c":a=String.fromCharCode(a);break;case "d":a=parseInt(a,10);break;case "e":a=d[7]?a.toExponential(d[7]):a.toExponential();break;case "f":a=d[7]?parseFloat(a).toFixed(d[7]):parseFloat(a);break;case "o":a=a.toString(8);break;case "s":a=(a=String(a))&&d[7]?a.substring(0,d[7]):a;break;case "u":a=Math.abs(a);
break;case "x":a=a.toString(16);break;case "X":a=a.toString(16).toUpperCase()}a=/[def]/.test(d[8])&&d[3]&&0<=a?"+"+a:a;h=d[4]?"0"==d[4]?"0":d[4].charAt(1):" ";k=d[6]-String(a).length;if(d[6]){for(var l=[];0<k;l[--k]=h);h=l.join("")}else h="";i.push(d[5]?a+h:h+a)}return i.join("")};b.cache={};b.parse=function(b){for(var f=[],c=[],e=0;b;){if(null!==(f=/^[^\x25]+/.exec(b)))c.push(f[0]);else if(null!==(f=/^\x25{2}/.exec(b)))c.push("%");else if(null!==(f=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(b))){if(f[2]){var e=
e|1,a=[],i=f[2],g=[];if(null!==(g=/^([a-z_][a-z_\d]*)/i.exec(i)))for(a.push(g[1]);""!==(i=i.substring(g[0].length));)if(null!==(g=/^\.([a-z_][a-z_\d]*)/i.exec(i)))a.push(g[1]);else if(null!==(g=/^\[(\d+)\]/.exec(i)))a.push(g[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";f[2]=a}else e|=2;if(3===e)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";c.push(f)}else throw"[sprintf] huh?";b=b.substring(f[0].length)}return c};return b}(),vsprintf=function(e,b){b.unshift(e);
return sprintf.apply(null,b)};function number_format(e,b,j,f){var e=(e+"").replace(/[^0-9+\-Ee.]/g,""),e=!isFinite(+e)?0:+e,b=!isFinite(+b)?0:Math.abs(b),f="undefined"===typeof f?",":f,j="undefined"===typeof j?".":j,c="",c=function(b,a){var c=Math.pow(10,a);return""+Math.round(b*c)/c},c=(b?c(e,b):""+Math.round(e)).split(".");3<c[0].length&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,f));if((c[1]||"").length<b)c[1]=c[1]||"",c[1]+=Array(b-c[1].length+1).join("0");return c.join(j)};
